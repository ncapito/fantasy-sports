<head>
  <title>fantasy-sports</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body >
    <div class='container'>
    	<div class="row">
    		<div class="">
    			{{> dropdown}}
    		</div>
        </div>
        <div class='row'>
            <div class="span12">
            {{> listing}}
    		</div>
    	</div>	
    </div>
</body>

<template name="listing">
	<div class="players">
      	{{#each players}}
			{{> player}}
		{{else}}
			<div class="player">There are no players currently setup</div>
		{{/each}}
	</div>
</template>
		
<template name="player">
	<div class="player">
		<h1 class="name">{{name}}</h1>
		<span class="displayBlock playerOverallRank">Overall Rank: {{overallRank}}</span>
		<span class="displayBlock playerPositionRank">Position Rank: {{positionRank}}</span>
        <br />
		<div class='playerSummary'><blockquote>{{snippet}}</blockquote></div>
        <div class="stats">{{> player-tooltip}}</div>
	</div>
</template>

<template name="player-tooltip">
    
	<table class='table table-striped table-bordered table-hover'>
        <thead>
            <tr>
                <th>Year</th>
    			<th>Games</th>
    			<th>Plate Appearances</th>
    			<th>Runs</th>
    			<th>Home Runs</th>
    			<th>RBI</th>
    			<th>Stolen Bases</th>
    			<th>BABIP</th>
    			<th>Batting Avg.</th>
    			<th>Line Drive %</th>
    			<th>Fly Ball %</th>
    			<th>HR/FB %</th>
    			<th>ISO</th>
    			<th>PSR</th>
    			<th>PSR Rank</th>
    			<th>xBABIP</th>
    			<th>xBA</th>
            </tr>
      </thead>
      <tbody>
		{{#each stats}}
			{{> output-stats}}
		{{/each}}
        </tbody>
	</table>
</template>

<template name="output-stats">
	<tr>
		<td>{{year}}</td>	
		<td>{{g}}</td>	
		<td>{{pa}}</td>	
		<td>{{r}}</td>	
		<td>{{hr}}</td>	
		<td>{{rbi}}</td>	
		<td>{{sb}}</td>	
		<td>{{babip}}</td>	
		<td>{{ba}}</td>	
		<td>{{ld}}</td>	
		<td>{{fb}}</td>	
		<td>{{hrPerFB}}</td>	
		<td>{{iso}}</td>	
		<td>{{psr}}</td>	
		<td>{{psrRank}}</td>	
		<td>{{xbabip}}</td>	
		<td>{{xba}}</td>	
	</tr>
</template>

<template name="dropdown">
	<div class="btn-group">
		<button class="btn dropdown-toggle" data-toggle="dropdown">Ranking - {{sessionValue "name"}} <span class="caret"></span>
		</button>
		<ul class="dropdown-menu">
			{{#each positions}}
				{{#if subMenu}}
					{{> dropdown-with-submenu}}
				{{else}}
					{{> add-dropdown-item}}
				{{/if}}
			{{/each}}
		</ul>
	</div>
</template>

<template name="dropdown-with-submenu">
	<li class="dropdown-submenu">
		<a tabindex="-1" href="#">{{name}}</a>
		<ul class="dropdown-menu">
			{{#each subMenu}}
			    {{> add-dropdown-item}}
			{{/each}}
		</ul>
	</li>
</template>

<template name="add-dropdown-item">
	<li name="{{name}}"><a href="#" tabindex="-1">{{text}}</a></li>
</template>
